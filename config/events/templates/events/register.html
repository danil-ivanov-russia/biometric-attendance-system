{% extends "events/base.html" %}
{% load materializecss %}

{% block title %}Регистрация{% endblock %}

{% block content %}

<div class="card-panel" style="padding: 10px">

	<h3 class="row center">Регистрация</h3>

	{% if messages %}
        {% for message in messages %}
        <div class="row" style="margin-bottom: 0px">
            <div class="col s12">
                {% if message.tags == 'error' %}
                    <div class="center card-panel red lighten-2">
                        <span class="white-text">
                            {{ message }}
                        </span>
                    </div>
                {% else %}
                    <div class="center card-panel green lighten-2">
                        <span class="white-text">
                            {{ message }}
                        </span>
                    </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    {% endif %}

	<form action="{% url 'events:create-user' %}" method="POST">
		{% csrf_token %}
		<div class="row" style="margin-bottom: 0px">
			{{ form.username|materializecss:'col s12 m6 l6 light' }}
			{{ form.email|materializecss:'col s12 m6 l6 light' }}
		</div>
		<div class="row" style="margin-bottom: 0px">
			{{ form.password1|materializecss:'col s12 m6 l6 light' }}
			{{ form.password2|materializecss:'col s12 m6 l6 light' }}
		</div>
		<div class="row" style="margin-bottom: 0px">
			{{ form.last_name|materializecss:'col s12 m6 l3 light' }}
			{{ form.first_name|materializecss:'col s12 m6 l3 light' }}
			{{ form.patronymic|materializecss:'col s12 m12 l6 light' }}
		</div>
		<div class="row">
			<div class="col s12">
				<label>
					<input type="checkbox" name="share_data" value="unchecked" required/>
					<span class="light">Согласие на хранение и обработку персональных данных предоставляю</span>
				</label>
			</div>
		</div>
		<div class="row">
			<div class="col s12">
				<button class="right waves-effect waves-light btn-large" type="submit">Зарегистрироваться</button>
			</div>
		</div>
	</form>
</div>
{% endblock %}